@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager
<style>
    /* Fondo del menú desplegable */
    .dropdown-menu {
        background-color: #212529 !important; /* gris oscuro similar al navbar */
        border-color: #444 !important;
        min-width: 200px;
    }

    /* Estilo general para cada opción */
    .dropdown-item {
        color: #f8f9fa !important; /* blanco */
        font-weight: 500;
    }

        /* Hover visual */
        .dropdown-item:hover {
            background-color: #343a40 !important;
            color: #ffc107 !important; /* dorado */
        }

    /* Línea divisora */
    .dropdown-divider {
        border-top-color: #555 !important;
    }


    }</style>

<ul class="navbar-nav">
    @if (SignInManager.IsSignedIn(User))
    {
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle text-white" href="#" id="profileMenu" role="button" data-bs-toggle="dropdown">
                @UserManager.GetUserName(User)
            </a>
            <ul class="dropdown-menu dropdown-menu-end">
                <!--por el momento lo siguinet no se habilita, esta ala espera-->
                <!--
                <li>
                     <a class="dropdown-item d-flex align-items-center gap-2" asp-area="Identity" asp-page="/Account/Manage/Index">
                        <i class="fa-solid fa-user"></i> Perfil
                     </a> </li>
                 <li><hr class="dropdown-divider"></li>

                -->
                
                <li>
                    <form asp-area="Identity" asp-page="/Account/Logout" method="post" asp-route-returnUrl="/">
                        <button type="submit" class="dropdown-item text-danger">Cerrar sesión</button>
                    </form>
                </li>
            </ul>
        </li>
    }
    else
    {
        <li class="nav-item">
            <a class="btn btn-outline-light me-2" id="login" asp-area="Identity" asp-page="/Account/Login">Ingresar</a>
        </li>
        <li class="nav-item">
            <a class="btn btn-warning text-dark" id="register" asp-area="Identity" asp-page="/Account/Register">Registrarme</a>
        </li>
    }
</ul>
